<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="benchmark.js"></script>
    </head>
    <body>
        <script>
        
        var hash_pool = [];
        var add_hash = function(hsh){
            return hash_pool.push(hsh);
        }
        
        // CASE 1
        
        var values_pool = {};
        var sample_values_to_clone = {
            foo: 42, 
            boo: 'wefmjwepfokweofkwegwegewg',
            joo: 58, 
            boo1: 'wefmjwepfokweofkwegwegewg',
            joo2: 58, 
            boo3: 'wefmjwepfokweofkwegwegewg',
            joo4: 58, 
            boo5: 'wefmjwepfokweofkwegwegewg',
            joo6: 58
        };
        
        var add1 = function(){
            var hash = {};
            var id = add_hash(hash);
            for(var i in sample_values_to_clone){
                values_pool[id + '_' + i] = sample_values_to_clone[i];
            }
        }
        
        // CASE 2
        
        var values_objects_pool = {};
        var add2 = function(){
            var hash = {};
            var id = add_hash(hash);
            var obj = {};
            for(var i in sample_values_to_clone){
                obj[i] = sample_values_to_clone[i];
            }
            values_objects_pool[id] = obj;
        }
        
        var iter = 1000;
        
        var time3 = microtime(true);
        for(var i = 0; i <= iter; i++){
            add2();
        }
        var time4 = microtime(true);
        console.log(time4-time3);
        
        var time1 = microtime(true);
        for(var i = 0; i <= iter; i++){
            add1();
        }
        var time2 = microtime(true);
        console.log(time2-time1);
        
        console.log(values_pool, values_objects_pool);
        
        
        
        </script>
    </body>
</html>
